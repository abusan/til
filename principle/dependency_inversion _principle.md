# Dependency Inversion Principle(依存関係逆転の原則)

## 概要
+ 簡単に言えば具象ではなく抽象に依存させようという原則

+ アプリケーションの存在理由は上位のモジュールにあるのに、上位モジュールが下位モジュールに依存しているのはおかしい
    下位モジュールの変更が上位に影響を及ぼしてしまう
    データベースの構造がサービスに影響を及ぼすのはおかしいよねということ

## 抽象に依存しよう
+ 具体的なクラスではなく、抽象クラスやインターフェイスを用いてプログラム内の関係を構築する

+ 上位モジュールがインターフェイスを定め、下位モジュールはそれに従う

+ 例えば
    + メソッド内から具体的なクラスを呼び出してはならない
    + 具体的なクラスから派生させてはならない
    + 基底クラスで実装されているメソッドを上書きしてしまうメソッドがあってはならない

### 境界づけられたコンテキスト
インターフェイスや抽象クラスは境界づけられたコンテキストと言えるのかもしれない
元となるモデルは同じでも、違うコンテキストなら違う抽象に依存する必要がある
ユーザーがアイテムを使用する場合と、ドロップしたアイテムを取得する場合、同じアイテムというモデルだが違うコンテキストなのではないか
+ アイテムを使用する場合はアイテムの効果などからユーザーのステータスに反映する責任がある
+ 逆にアイテムを手に入れる時はユーザーの所持枠などに関心毎があるのではないか
アイテムの効果を修正する必要がある場合に、モデルに依存していたらアイテムを手に入れる処理にも変更が及んでしまう

## 結論
+ DIP = 抽象に依存させることで依存関係を逆転できるよ
+ 依存関係を逆転すると変更による影響を最小限に抑えられるから変更が容易になるよ
